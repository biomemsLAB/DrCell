% change order of electrodes (due to false configured Labview-Recorder)
% input:            Matrix with raw data or time stamps (TS)
%                   n electrodes -> n columns


function M_nu=switchElectrodes(M)

    EL_NUMS=[12 13 14 15 16 17 21 22 23 24 25 26 27 28 31 32 33 34 35 36 37 38 41 42 43 44 45 46 47 48 51 52 53 54 55 56 57 58 61 62 63 64 65 66 67 68 71 72 73 74 75 76 77 78 82 83 84 85 86 87];

    SOLL_EL = [22 12 23 13 34 24 14 15 ...
            25 35 16 26 17 27 36 28 ...
            37 38 45 46 48 47 57 58 ...
            56 55 68 67 78 66 77 87 ...
            76 86 65 75 85 84 74 64 ...
            83 73 82 72 63 71 62 61 ...
            54 53 51 52 42 41 43 44 ...
            31 32 21 33];

    IST_EL =   [85 75 86 76 28 87 77 21 ...
             31 41 32 42 33 43 52 34 ...
             53 44 51 62 54 63 73 64 ...
             72 61 74 83 84 82 14 24 ...
             13 23 71 12 22 78 68 58 ...
             67 57 66 56 47 65 46 55 ...
             48 37 45 36 26 35 27 38 ...
             25 16 15 17];    

     % transform electrode number to array index
     for i=1:length(EL_NUMS)
        [~,SOLL_idx(i)] = find(SOLL_EL(i) == EL_NUMS);    
        [~,IST_idx(i)] = find(IST_EL(i) == EL_NUMS);
     end
     
     M_nu(:,SOLL_idx) = M(:,IST_idx);
         
end